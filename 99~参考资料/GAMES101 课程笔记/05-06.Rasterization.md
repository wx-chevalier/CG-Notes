# Rasterization

è¿™èŠ‚è¯¾ä¸»è¦ä»‹ç»å…‰æ …åŒ–æœ¬èº«ï¼Œå’Œç°ä»£å…‰æ …åŒ–çš„å¯¹è±¡â€“ä¸‰è§’å½¢ ç›¸å…³çš„ä¸€äº›æ“ä½œã€‚å³åœ¨ç»è¿‡å°†åœºæ™¯è¿›è¡ŒåŸºæœ¬å˜æ¢åï¼Œå¦‚ä½•å°†å˜æ¢åçš„æ­£æ–¹å½¢å†…å®¹å‘ˆç°åœ¨å±å¹•ä¸Šã€‚

# ä»‹ç»æˆåƒ

![Canonical Cube to Screen](https://assets.ng-tech.icu/item/202304172217643.jpg)

é¦–å…ˆå¼„æ¸…æ¥šä»€ä¹ˆæ˜¯å±å¹•ã€‚å†å¼„æ¸…æ¥šåƒç´ ï¼ŒPixel åŸæ¥æ˜¯ picture element çš„æµ“ç¼©ç‰ˆã€‚

![Canonical Cube to Screen](https://assets.ng-tech.icu/item/202304172217686.jpg)

å®šä¹‰å±å¹•ç©ºé—´ï¼Œå’Œæ¯ä¸ªåƒç´ çš„åæ ‡è¡¨ç¤ºæ–¹æ³•ï¼Œæ­¤æ—¶ä»‹ç»ä¸€ä¸‹å„ç§æˆåƒè®¾å¤‡ï¼ˆä¸ä»…ä»…æ˜¯çŸ©é˜µå¼åƒç´ æˆåƒã€ç”šè‡³ä¸ä»…ä»…æ˜¯å±å¹•ï¼‰ã€‚

![CNC Sharpie Drawing Machine](https://assets.ng-tech.icu/item/202304172217705.jpg)

![Laser Cutters](https://assets.ng-tech.icu/item/202304172217728.jpg)

ç»˜åˆ¶æœºä¹Ÿç®—ä½œæˆåƒè®¾å¤‡ï¼Œä½†å¹¶éç”¨å±å¹•ï¼Œäº‹å®ä¸Šå³ä½¿ç”¨å±å¹•ï¼Œä¹Ÿä¸ä¸€å®šæ˜¯åƒç´ é˜µåˆ—ã€‚

![Oscilloscope](https://assets.ng-tech.icu/item/202304172217751.jpg)

![Television - Raster Display CRT](https://assets.ng-tech.icu/item/202304172217765.jpg)

![LCD Pixel](https://assets.ng-tech.icu/item/202304172217782.jpg)

![LED Array Display](https://assets.ng-tech.icu/item/202304172217795.jpg)

![Electronic Ink Display](https://assets.ng-tech.icu/item/202304172217808.jpg)

# ä¸‰è§’å½¢

![Triangles](https://assets.ng-tech.icu/item/202304172217820.jpg)

é€‰ç”¨ä¸‰è§’å½¢ä½œä¸ºåŸºæœ¬å½¢ä½“å•ä½çš„åŸå› ã€‚

![What Pixel Values Approximate a Triangle](https://assets.ng-tech.icu/item/202304172217834.jpg)

ä½†åº”è¯¥å¦‚ä½•æŠŠä¸€ä¸ªä¸‰è§’å½¢ç»™å…‰æ …åŒ–å‘¢ï¼Ÿ

![Sample If Each Pixel Center Is Inside Triangle](https://assets.ng-tech.icu/item/202304172217850.jpg)

ä¸€ç§æ–¹å¼æ˜¯å¯¹æ¯ä¸ªåƒç´ å»é‡‡æ ·ï¼Œä¸­å¿ƒåœ¨ä¸‰è§’å½¢å†…å³æ ‡å†…éƒ¨é¢œè‰²ï¼Œå¦åˆ™æ ‡å¤–éƒ¨é¢œè‰²ã€‚åˆ¤æ–­åƒç´ æ˜¯å¦åœ¨ä¸‰è§’å½¢ä»¥å†…å¯ä»¥ç”¨å‰ç§¯åˆ¤æ–­ç‚¹æ˜¯å¦åœ¨ä¸‰æ¡è¾¹ï¼ˆå…¨é€†æ—¶é’ˆæˆ–å…¨é¡ºæ—¶é’ˆï¼‰çš„åŒä¾§ã€‚åŒå³å†…éƒ¨ï¼Œå¦åˆ™å¤–éƒ¨ã€‚

![Edge Cases](https://assets.ng-tech.icu/item/202304172217863.jpg)

å¯¹äºåˆšå¥½åœ¨è¾¹ç•Œçš„æƒ…å†µï¼Œé€šå¸¸åªè¦è‡ªå·±å®šä¹‰æ¸…æ¥šå°±è¡Œï¼Œåœ¨å“ªè¾¹éƒ½ä¸ä¼šæœ‰å¤ªå¤§å½±å“ï¼ˆOpenGL ä¼šæ ¹æ®æ˜¯å¦æ˜¯å·¦ä¸Šçš„è¾¹è¿›è¡ŒåŒºåˆ«é€‰æ‹©ï¼‰

![Checking All Pixels on the Screen?](https://assets.ng-tech.icu/item/202304172217881.jpg)

![Incremental Triangle Traversal](https://assets.ng-tech.icu/item/202304172217897.jpg)

ä¸€äº›åŠ é€Ÿéå†çš„æ–¹æ³•ï¼š

![Real LCD Screen Pixels](https://assets.ng-tech.icu/item/202304172217914.jpg)

ä¸€äº›å®é™…æœºå™¨ä¸Šçš„åƒç´ æ’åˆ—ã€‚ä¸‰æ˜Ÿ Galaxy S5 çš„æ’åˆ—æ–¹å¼å¯ä»¥èŠ‚çœä¸€äº›åƒç´ ç‚¹ã€‚ç»¿è‰²åå¤šæ˜¯ç”±äºäººçœ¼å¯¹ç»¿è‰²æ›´æ•æ„Ÿã€‚

![ä¸‰æ˜Ÿ](https://assets.ng-tech.icu/item/202304172217930.jpg)

ä¸€äº›å…¶ä»–çš„æˆåƒç®—æ³•ã€‚æ¯”å¦‚æ‰“å°æœºç”¨è¿™ç§æ’åˆ—ï¼Œç›®çš„ä¸»è¦æ˜¯ä¸ºäº†èŠ‚çœæ²¹å¢¨ã€‚

# Antialiasing and Z-buffering

![Pixels are uniformly-colored squares](https://assets.ng-tech.icu/item/202304172217943.jpg)

![Aliasing](https://assets.ng-tech.icu/item/202304172217956.jpg)

äº‹å®ä¸Šä»…ä»…ç”¨ä¸ŠèŠ‚æåˆ°çš„é‡‡æ ·æ–¹æ³•ï¼Œä¼šå¾—åˆ°è¿™æ ·çš„ç»“æœã€‚éå¸¸ä¸åƒæˆ‘ä»¬æƒ³è¦çš„ä¸‰è§’å½¢ã€‚

![Moire Patterns in Imaging](https://assets.ng-tech.icu/item/202304172217973.jpg)

ç”šè‡³è¿˜æœ‰æ›´ä¸¥é‡çš„äº‹æƒ…å‘ç”Ÿï¼Œæ¯”å¦‚é‡‡æ ·å¾—åˆ°äº†å®Œå…¨ä¸åŒçš„èŠ±çº¹ï¼Œè¿™å·²ç»ä¸æ˜¯é”¯é½¿çš„é—®é¢˜äº†ã€‚

![Wagon Wheel Illusion](https://assets.ng-tech.icu/item/202304172217990.jpg)

è¿˜æœ‰è¿™ç§è¿åŠ¨é”™è§‰ï¼ˆåŒå¶å°”çœ‹åˆ°è½¦è½®åè½¬çš„é”™è§‰ï¼‰è¿™äº›é—®é¢˜å‡ºåœ¨å“ªå‘¢ï¼Ÿ

![Sampling Artifacts](https://assets.ng-tech.icu/item/202304172217003.jpg)

éƒ½æ˜¯é‡‡æ ·é€ æˆçš„é—®é¢˜ï¼Œå¯¹äºå…¶ä¸­çš„é”¯é½¿é—®é¢˜ï¼š

![Sample Image Sensor Plane](https://assets.ng-tech.icu/item/202304172217017.jpg)

å¦‚æœè€ƒå¯Ÿç…§ç›¸æœºï¼ˆç…§ç‰‡ä¸€èˆ¬ä¸ä¼šæœ‰è¿™ç§é—®é¢˜ï¼‰ï¼Œä¼šå‘ç°ä½äºè¾¹ç•Œçš„æ¯ä¸ªåƒç´ ä¼šå¸æ”¶è¾¹ç•Œä¸¤è¾¹çš„å…‰å­ï¼Œå¾—åˆ°ä¸€ä¸ªæ··åˆçš„ç»“æœï¼Œä½¿æ•´ä½“çœ‹ä¸Šå»è¾¹ç•Œé¡ºæ»‘è‡ªç„¶ã€‚

![Antialiased Sampling](https://assets.ng-tech.icu/item/202304172217031.jpg)

é‡‡æ ·æ—¶ä¹Ÿç†åº”å¯ä»¥åšåˆ°äººå·¥è¾¹ç•Œæ¨¡ç³Šï¼Œè¾¾åˆ°æ¥è¿‘ç›¸æœºçš„æ•ˆæœã€‚æ¯”å¦‚å…ˆæ¨¡ç³Šï¼Œå†é‡‡æ ·ã€‚

![Antialiasing](https://assets.ng-tech.icu/item/202304172217048.jpg)

æ•ˆæœè¿˜ä¸é”™ï¼š

![Blurred Aliasing](https://assets.ng-tech.icu/item/202304172217064.jpg)

ä½†åšè¿™ç§äº‹æƒ…æ—¶éœ€è¦æ³¨æ„é¡ºåºï¼šéœ€è¦å…ˆæ¨¡ç³Šå†é‡‡æ ·ï¼Œè€Œéå…ˆé‡‡æ ·å†æ¨¡ç³Šã€‚

# èƒŒåçš„ä¿¡å·åŸç†

![Why?](https://assets.ng-tech.icu/item/202304172217078.jpg)

é’ˆå¯¹äºå‰é¢çš„ç°è±¡ï¼Œåº”è¯¥å¦‚ä½•è§£é‡Šå‘¢ï¼Ÿ

![Fourier Transform](https://assets.ng-tech.icu/item/202304172217093.jpg)

è¿™å¯ä»¥è¿½æº¯è‡³å‚…ç«‹å¶å˜æ¢ï¼šé«˜é¢‘ä¿¡å·éœ€è¦æ›´é«˜çš„é‡‡æ ·ç‡æ‰èƒ½ä¿è¯ä¸å¤±çœŸã€‚

![Higher Frequencies Need Faster Sampling](https://assets.ng-tech.icu/item/202304172217106.jpg)

è¶Šé«˜é¢‘çš„ä¿¡å·è¦æ±‚è¶Šé«˜é¢‘çš„é‡‡æ ·ï¼Œå¦åˆ™ä¼šå‡ºç°èµ°æ ·ï¼Œå¯¹äºå›¾ç‰‡è€Œè¨€ï¼Œä¹Ÿå¯ä»¥è¿›è¡ŒäºŒç»´çš„å‚…ç«‹å¶åˆ†è§£

![Visualizing Image Frequency Content](https://assets.ng-tech.icu/item/202304172217121.jpg)

é¢‘åŸŸä¸Šçš„ä¸¤æ¡ç›´çº¿çº¿ä¸»è¦ç”±äºåšå˜æ¢æ—¶ç­‰æ•ˆäºå°†å›¾ç‰‡æ¨ªçºµé‡å¤äº†å¾ˆå¤šæ¬¡ï¼Œè€Œè¾¹ç•Œå¾€å¾€æ˜¯éå¸¸éš¾åŒ¹é…çš„ï¼Œå³å¯¹åº”äº†é«˜é¢‘å˜åŒ–ã€‚

![Filter Out Low Frequencies Only](https://assets.ng-tech.icu/item/202304172217135.jpg)

é¢‘åŸŸä¸Šè¶Šè¿œç¦»ä¸­å¿ƒï¼Œåœ¨æ—¶åŸŸä¸Šè¶Šå¯¹åº”çªå˜çš„è¾¹ï¼š

![Filter Out High Frequenciesï¼ˆBlurï¼‰](https://assets.ng-tech.icu/item/202304172217149.jpg)

ä½é¢‘åˆ™å¯¹åº”äºæ¨¡ç³Šï¼š

![Convolution Theorem](https://assets.ng-tech.icu/item/202304172217163.jpg)

å·ç§¯å®šç†ï¼šæ—¶åŸŸä¸Šçš„å·ç§¯ï¼Œå¯¹åº”é¢‘åŸŸä¸Šçš„ä¹˜ç§¯ã€‚è€Œé¢‘åŸŸä¸Šçš„å·ç§¯ï¼Œå¯¹åº”æ—¶åŸŸä¸Šçš„ä¹˜ç§¯ã€‚

![Convolution Theorem](https://assets.ng-tech.icu/item/202304172217177.jpg)

å·ç§¯å®šç†çš„ä¸€ä¸ªä¾‹å­ï¼š

![Sampling](https://assets.ng-tech.icu/item/202304172217198.jpg)

è€Œå¯¹äºä¸€ä¸ªæ—¶åŸŸä¸Šçš„å‡½æ•° aï¼Œå¯¹å…¶è¿›è¡Œå›ºå®šé—´éš”é‡‡æ ·çš„æ“ä½œå®è´¨ç­‰æ•ˆäºç”¨ä¸€ç³»åˆ—å†²å‡»å‡½æ•° c å»å’Œ a ä¹˜ï¼Œæœ€åå¾—åˆ° eã€‚æ ¹æ®å·ç§¯å®šç†ï¼Œæ—¶åŸŸä¸Šçš„ä¹˜ç§¯å¯¹åº”é¢‘åŸŸä¸Šçš„å·ç§¯ã€‚å‡è®¾ a å¯¹åº”çš„é¢‘åŸŸä¸º bã€‚è€Œå†²å‡»å‡½æ•° c å¯¹åº”çš„é¢‘åŸŸä¸º dã€‚b å’Œ d å·ç§¯ååˆ™ç†åº”å¾—åˆ° fã€‚

![Aliasing](https://assets.ng-tech.icu/item/202304172217215.jpg)

è¿™æ—¶æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå¦‚æœåŸå§‹å‡½æ•°æ¯”è¾ƒä½é¢‘ï¼Œå³å¯¹åº”çš„é¢‘åŸŸå‡½æ•°å±€é™åœ¨è¾ƒå°åŒºåŸŸï¼Œåˆ™åœ¨é‡‡æ ·ä¹‹åä¸ä¼šæœ‰é‡å ã€‚å¦åˆ™ï¼Œåˆ™ä¼šåœ¨é¢‘åŸŸä¸Šæœ‰é‡å ï¼Œè¿›è€Œå¯¹äºé‡å éƒ¨åˆ†æ— æ³•åŒºåˆ†æ˜¯é‡å å¯¼è‡´çš„ï¼Œè¿˜æ˜¯åŸå§‹ä¿¡å·å¤©ç”Ÿå¦‚æ­¤ï¼Œé€ æˆèµ°æ ·ã€‚

![How can we reduce Aliasing Error](https://assets.ng-tech.icu/item/202304172217234.jpg)

æ®æ­¤ï¼Œåˆ†æåèµ°æ ·çš„åŸç†ä¹Ÿå°±æ¯”è¾ƒå®¹æ˜“äº†ã€‚è¦ä¹ˆæé«˜é‡‡æ ·é¢‘ç‡ï¼Œç›¸å½“äºå¢å¤§é¢‘åŸŸä¸Šçš„é—´éš”ï¼Œä½¿å…¶ä¸å®¹æ˜“é‡å ã€‚

![Antialiasing = Limiting, then repeatings](https://assets.ng-tech.icu/item/202304172217249.jpg)

ä¹Ÿå¯ä»¥é€šè¿‡æ¨¡ç³ŠåŒ–æ“ä½œï¼Œä½¿å…¶ä¸åŒ…å«é«˜é¢‘ä¿¡å·ï¼Œä»¥è‡³äºä¸ä¼šé‡å ï¼š

![Antialiasing By Averaging Values in Pixel Area](https://assets.ng-tech.icu/item/202304172217264.jpg)

![Antialiasing by Computing Average Pixel Value](https://assets.ng-tech.icu/item/202304172217278.jpg)

é™¤äº†æ¨¡ç³ŠåŒ–ä»¥å¤–ï¼Œè¿˜å¯ä»¥é‡‡ç”¨å¯¹å•ä¸ªåƒç´ å¯†é›†é‡‡æ ·æ±‚å¹³å‡çš„æ–¹æ³•æ¥å‡å°‘é”¯é½¿æˆ–èµ°æ ·é—®é¢˜ã€‚

![4x4 Supersampling](https://assets.ng-tech.icu/item/202304172217293.jpg)

ä¹Ÿèƒ½è¾¾åˆ°å¾ˆå¥½çš„æ•ˆæœï¼Œä¸è¿‡ä¸æ­¤åŒæ—¶ä¹Ÿéœ€è¦ä»˜å‡ºè®¡ç®—ä»£ä»·ã€‚

![Antialiasing Today](https://assets.ng-tech.icu/item/202304172217315.jpg)

# å…‰æ …åŒ–ä¸€ä¸ªåœºæ™¯

çŸ¥é“äº†å¦‚ä½•å…‰æ …åŒ–ä¸€ä¸ªä¸‰è§’å½¢ï¼Œå†ä»‹ç»å¦‚ä½•å…‰æ …åŒ–ä¸€ä¸ªåœºæ™¯ã€‚

![Painter's Algorithm](https://assets.ng-tech.icu/item/202304172217333.jpg)

ä¸ºäº†è§£å†³è¿œè¿‘è¦†ç›–é—®é¢˜ã€‚å®¹æ˜“æƒ³åˆ°çš„ä¸€ç§å¤„ç†æ–¹å¼æ˜¯ç”»å®¶ç®—æ³•ï¼šç”±è¿œå¾€è¿‘ä¾æ¬¡ç”»ã€‚ç”»çš„æ—¶å€™è¿‘å¤„ç‰©ä½“è¦†ç›–è¿œå¤„ç‰©ä½“ã€‚

![Painter's Algorithm](https://assets.ng-tech.icu/item/202304172217349.jpg)

ä½†è¿™æ ·åšä¹Ÿæ˜¯æœ‰å±€é™çš„ã€‚ç‰¹åˆ«æ˜¯æœ‰äº›æƒ…å†µä¸‹éš¾ä»¥å¯¹ä¸‰è§’å½¢è¿›è¡Œè¿œè¿‘æ’åºã€‚

![Z-Buffer](https://assets.ng-tech.icu/item/202304172217365.jpg)

å¯¹ä¸‰è§’å½¢éš¾ä»¥è¿œè¿‘æ’åºï¼Œå¯¹åƒç´ å´æ˜¯å¯ä»¥åšåˆ°çš„ï¼Œæ‰€ä»¥æœ‰äº† Z-Buffer ç®—æ³•ã€‚æ¯ä¸ªåƒç´ ç”¨ Z æœ€è¿‘çš„å…‰æ …åŒ–å€¼ã€‚

![Z-Buffer Example](https://assets.ng-tech.icu/item/202304172217381.jpg)

å®é™…ä¸Šç­‰æ•ˆäºåœ¨è®°å½• RGB ä¸‰è‰²çš„åŒæ—¶ï¼ŒåŠ å…¥ Depth çš„è®°å½•ã€‚

![Z-Buffer Complexity](https://assets.ng-tech.icu/item/202304172217400.jpg)

ç”±äºåªç”¨æ‰¾æœ€å°ï¼Œè€Œä¸æ˜¯æ’åºï¼Œæ‰€ä»¥ Z-Buffer å¤æ‚åº¦ä»… ğ‘‚(ğ‘›)ï¼Œä¸”ä¸ºäº†æ›´é«˜çš„è¿è¡Œæ•ˆç‡ï¼ŒZ-Buffer å·²ç»é›†æˆåœ¨äº†å„ä¸ª GPU å†…éƒ¨ï¼Œç›´æ¥ç¡¬ä»¶å±‚é¢æ”¯æŒã€‚
