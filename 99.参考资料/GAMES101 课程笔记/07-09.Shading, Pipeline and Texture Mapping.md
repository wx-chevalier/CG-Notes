# Shading: Shading,Pipeline and Texture Mapping

# 7.1 ç›®å‰çš„è¿›åº¦å’Œå±€é™

![Rotating Cubes](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-105.png-mymark)

èƒ½å¤Ÿç”¨ä¸Šé¢çš„æ–¹æ³•ç»˜åˆ¶åœºæ™¯ï¼Œå³å¯åšå‡ºå¦‚å›¾çš„æ•ˆæœã€‚ä½†è¿™æ ·æ˜¯ä¸å¤Ÿçš„ã€‚æˆ‘ä»¬æƒ³å¾—åˆ°ä¸‹é¢çš„æ•ˆæœ

![Rotating Cubes Expected](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-106.png-mymark)

ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿä¸ºä»€ä¹ˆâ€œç›¸åŒâ€é¢œè‰²çš„æ–¹å—çš„æ¯ä¸€é¢é¢œè‰²ä¸ä¸€è‡´å‘¢ï¼Ÿå®¹æ˜“å‘ç°ï¼Œæ˜¯ç¯å¢ƒå…‰çš„å½±å“ã€‚æˆ‘ä»¬çœ‹åˆ°çš„ç‰©ä½“ç”»é¢æ˜¯ç”±ç‰©ä½“æœ¬èº«å’Œç¯å¢ƒå…‰å…±åŒä½œç”¨å¾—åˆ°çš„ç»“æœã€‚æ‰€ä»¥éœ€è¦è€ƒè™‘ç¯å¢ƒå…‰ã€‚è¿™ä¸ªå…±åŒä½œç”¨çš„æ–¹å¼ï¼Œåˆ™ä½“ç°å‡ºäº†ç‰©ä½“çš„æè´¨ã€‚

# 7.2 Shading æ˜¯ä»€ä¹ˆ

![Shading: Definition](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-107.png-mymark)

è€Œ Shading åœ¨æœ¬è¯¾ä¸­åˆ™å¯¹åº”ç€å°†æè´¨åº”ç”¨äºç‰©ä½“æœ¬èº«çš„è¿‡ç¨‹ã€‚

# 7.3 Blinn-Phong æ¨¡å‹ä»‹ç»

![A Simple Shading Model](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-108.png-mymark)

Blinn-Phong æ˜¯ç»éªŒæ€»ç»“ä¸‹çš„å®¹æ˜“å®ç°çš„æè´¨æ¨¡å‹ã€‚å…¶åŸç†æ¥è‡ªäºè§‚å¯Ÿï¼šå½“å…‰æºå’Œè§‚å¯Ÿè€…çš„æ–¹å‘æ¥è¿‘æ—¶ï¼Œç‰©ä½“çš„é¢œè‰²ä¼šå˜å¾—æ›´äº®ã€‚è€Œå½“å…‰æºå’Œè§‚å¯Ÿè€…çš„æ–¹å‘ç›¸åæ—¶ï¼Œç‰©ä½“çš„é¢œè‰²ä¼šå˜å¾—æ›´æš—ã€‚

![Perceptual Observations](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-109.png-mymark)

ç±»ä¼¼äºç»˜ç”»ä¸­çš„ä¸‰å¤§é¢ã€‚å¯ä»¥æŠŠç‰©ä½“è¡¨é¢åˆ†ä¸ºé«˜å…‰åŒºåŸŸã€æ¼«åå°„åŒºåŸŸã€ç¯å¢ƒå…‰åŒºåŸŸã€‚

![Shading is Local](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-110.png-mymark)

éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒShading æœ‰å±€éƒ¨æ€§ï¼Œåªå…³å¿ƒæ¯ä¸ªä¸‰è§’å½¢æœ¬èº«ï¼Œä¸å…³å¿ƒä¸‰è§’å½¢ç›¸äº’çš„ä½œç”¨ï¼Œ

# 7.4 Blinn-Phong æ¼«åå°„

![Lambertian (Diffuse) Shading](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-111.png-mymark)

Blinn-Phong æ¨¡å‹ä¸­ï¼Œæ¼«åå°„çš„é¢œè‰²å—åˆ°ä¸‰ä¸ªéƒ¨åˆ†å½±å“

- ææ–™çš„å›ºæœ‰è‰²ï¼Œå¯¹åº”ä¸€ä¸ªç³»æ•°ï¼ˆå¯ä¸ºé¢œè‰²å‘é‡ï¼‰$k_d$
- åå…‰ç‚¹å’Œå…‰æºçš„è·ç¦»å…‰æºï¼Œè·ç¦»è¶Šè¿œäº®åº¦è¶Šåº•ï¼Œå¯¹åº”äº $ğ¼/ğ‘Ÿ^2$
- è¡¨é¢æ³•çº¿ä¸å…‰çº¿çš„å¤¹è§’ï¼Œå¤¹è§’è¶Šå¤§åˆ™å•ä½é¢ç§¯èƒ½åå°„çš„å…‰å­ç†åº”è¶Šå°‘ï¼Œä¸€æ—¦å¤§è¿‡ $ğœ‹/2$ åˆ™æ„å‘³ç€èƒŒå…‰ï¼Œä¸å†æ¼«åå°„ã€‚äºæ˜¯å¯¹åº”äº $ğ‘šğ‘ğ‘¥(0,ğ‘›âˆ—ğ‘™)$

![Lambertian (Diffuse) Shading](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-112.png-mymark)

ä»…åˆ©ç”¨æ¼«åå°„æ¨¡å‹ï¼Œä¸”å•ä¸€ç°é˜¶çš„å›ºæœ‰è‰²å³å¯æ¸²æŸ“å‡ºä¸Šé¢çš„æ•ˆæœã€‚

# 8.1 Blinn-Phong é«˜å…‰

![Specular Term](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-114.png-mymark)

å†è€ƒè™‘é«˜å…‰é¡¹ã€‚é«˜å…‰å¯¹åº”äºé•œé¢åå°„ï¼Œæ‘„åƒæœºè¶Šæ¥è¿‘å…‰æºçš„é•œé¢åå°„çš„å‡ºæ–¹å‘ï¼Œåˆ™åº”æ¥å—åˆ°è¶Šå¼ºçš„é•œé¢åå°„å…‰ã€‚åº¦é‡è¿™ä¸ªâ€œæ¥è¿‘åº¦â€æœ‰ä¸€ä¸ªèªæ˜çš„æ¯”è¾ƒå®¹æ˜“çš„è®¡ç®—çš„æ–¹æ³•ï¼Œæ˜¯æ¯”è¾ƒå…‰æºæ–¹å‘å’Œæ‘„åƒæœºæ–¹å‘çš„ä¸­é—´æ–¹å‘ï¼ˆå¾ˆå®¹æ˜“è®¡ç®—ï¼‰å’Œæ³•çº¿æ–¹å‘çš„å¤¹è§’ï¼Œå¤¹è§’è¶Šå¤§åˆ™è¶Šä¸æ¥è¿‘ã€‚

ä¸”å¯¹äºè¿™ä¸ªæ¥è¿‘åº¦å¯ä»¥å–ä¸€ä¸ªæ¬¡æ•° $p$ï¼Œä½¿æ•´ä½“æ›´å®¹æ˜“è°ƒæ•´ï¼Œä¸”æ¥è¿‘æƒ³è¦çš„æ•ˆæœã€‚

![Cosine Power Plots](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-115.png-mymark)

$p$ è¶Šé«˜ï¼Œé«˜äº®åŒºåŸŸè¶Šå°ã€‚é€šå¸¸è€Œè¨€ä¼šç”¨åˆ° 100 ï½ 200ã€‚

![Blinn-Phong](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-116.png-mymark)

åŠ å…¥äº†é«˜å…‰é¡¹åï¼Œå¯ä»¥å¾—åˆ°ä¸Šå›¾æ•ˆæœï¼Œä¸”å¯ä»¥çœ‹å‡ºä¸¤ä¸ªå‚æ•°åœ¨è°ƒæ•´æ—¶å¯¹ç»“æœçš„å½±å“ã€‚

# 8.2 Blinn-Phong ç¯å¢ƒå…‰

![Ambient Term](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-117.png-mymark)

æœ€åï¼Œå¯¹äºæš—éƒ¨ï¼Œå¹¶ä¸å¸Œæœ›å…¨é»‘ï¼Œæ‰€ä»¥å¯ä»¥åŠ å…¥ç¯å¢ƒå…‰é¡¹ï¼Œå½“ç„¶ï¼Œå¹¶æ²¡æœ‰åŠæ³•ä¿è¯æœ‰å…‰ï¼Œä¹Ÿä¸å¯èƒ½ç¯å¢ƒå…‰å¤„å¤„ç›¸åŒï¼Œæ‰€ä»¥è¿™åªæ˜¯ä¸ªä¸ç¬¦åˆç‰©ç†çš„è¶‹è¿‘æ–¹æ³•

![Blinn-Phong Reflection Model](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-118.png-mymark)

æœ€åç»¼åˆ æ¼«åå°„ã€é«˜å…‰ã€ç¯å¢ƒå…‰ ä¸‰é¡¹åå¯ä»¥å¾—åˆ°ä¸Šå›¾æ•ˆæœã€‚

# 8.3 Shading é¢‘ç‡

![Shading Frequencies](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-119.png-mymark)

åŒæ ·æ˜¯åº”ç”¨ Blinn-Phongï¼Œä¹Ÿå¯ä»¥ç”±äºé¢å‘å¯¹è±¡ä¸åŒå¾—åˆ°ä¸åŒç»“æœï¼Œä¸Šæ–¹ä¸‰å¼ å›¾ä¾æ¬¡å¯¹åº”äº

- ä½é¢‘ï¼šé¢å‘ä¸‰è§’å½¢
- ä¸­é¢‘ï¼šé¢å‘é¡¶ç‚¹ï¼Œä¸‰è§’å½¢å†…éƒ¨åº”ç”¨é‡å¿ƒåæ ‡å·®å€¼
- é«˜é¢‘ï¼šé¢å‘åƒç´ 

![Shade each triangle](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-120.png-mymark)

é¢å‘ä¸‰è§’å½¢çš„ Shading è®¡ç®—é‡æœ€å°ã€‚ä½†å¯¹äºä¸å¤Ÿé«˜é¢åˆå…‰æ»‘æ›²é¢çš„ç‰©ä½“è€Œè¨€ä¼šä¸å†å…‰æ»‘ã€‚

![Shade each vertex](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-121.png-mymark)

å¯¹é¡¶ç‚¹ç€è‰²ï¼Œå¹¶åº”ç”¨å·®å€¼ï¼š

![Shade each pixel](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-122.png-mymark)

å¯¹æ¯ä¸ªåƒç´ ç€è‰²ã€‚è¿™é‡Œçš„ Phong Shading å¯¹åº”äºç€è‰²é¢‘ç‡ï¼Œè€Œé Blinn-Phong ç€è‰²æ¨¡å‹ã€‚

![Shading Frequency: Face, Vertex or Pixel](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-123.png-mymark)

è¿™å‡ ç§ç€è‰²é¢‘ç‡å¯¹åº”è¶³å¤Ÿé«˜é¢çš„æ¨¡å‹è€Œè¨€è¡¨ç°æ˜¯è¿‘ä¼¼çš„ã€‚æ‰€ä»¥å¦‚æœè¶³å¤Ÿå¤šé¢ï¼Œåº”ä¼˜å…ˆé€‰æ‹©æ›´ä½é¢‘çš„ç€è‰²æ–¹å¼ï¼Œå‡å°‘è®¡ç®—é‡ã€‚

![Defining Per-Vertex Normal Vectors](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-124.png-mymark)

å¯¹é€é¡¶ç‚¹ç€è‰²è€Œè¨€ï¼Œæ˜¯éœ€è¦è·å¾—é¡¶ç‚¹çš„æ³•çº¿çš„ã€‚å¯ä»¥é‡‡ç”¨ç›¸é‚»ä¸‰è§’å½¢æ³•çº¿çš„ç®€å•å¹³å‡ï¼Œæˆ–è€…æ ¹æ®ä¸‰è§’å½¢é¢ç§¯åŠ æƒå¹³å‡ã€‚

![Defining Per-Pixel Normal Vectors](https://pphkpublicbucket.oss-cn-hongkong.aliyuncs.com/ppblog/2021/02/image-125.png-mymark)

å¯¹é€åƒç´ ç€è‰²è€Œè¨€ï¼Œåˆ™éœ€è¦è·å¾—æ¯ä¸ªåƒç´ çš„æ³•çº¿æ–¹å‘ï¼Œé€šå¸¸ä½¿ç”¨è‡ªå·±å’Œé™„è¿‘é¢çš„æ³•çº¿ç”¨ä¸€äº›æ–¹å¼åŠ æƒå¹³å‡ã€‚

# 8.4 æ¸²æŸ“ç®¡çº¿
